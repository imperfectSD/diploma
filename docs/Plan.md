# План автоматизации тестирования веб-сервиса "Путешествие дня"

## 1. Перечень автоматизируемых сценариев
### 1.1 Позитивные сценарии
#### Успешная оплата по дебетовой карте со статусом APPROVED
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить";
3. Ввести номер карты со статусом APPROVED: 4444 4444 4444 4441;
4. Заполнить поле "Месяц" валидными данными: 12;
5. Заполнить поле "Год" валидными данными: 22;
6. Заполнить поле "Владелец" валидными данными: Ivan Ivanov;
7. Заполнить поле "CVC" валидными данными: 123;
8. Нажать кнопку "Продолжить";

**Ожидаемый результат:** Появляется сообщение об успешной операции.


#### Успешная выдача кредита по данным банковской карты со статусом APPROVED
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить в кредит";
3. Ввести номер карты со статусом APPROVED: 4444 4444 4444 4441;
4. Заполнить поле "Месяц" валидными данными: 12;
5. Заполнить поле "Год" валидными данными: 22;
6. Заполнить поле "Владелец" валидными данными: Ivan Ivanov;
7. Заполнить поле "CVC" валидными данными: 123;
8. Нажать кнопку "Продолжить";

**Ожидаемый результат:** Появляется сообщение об успешной операции.

#### Отказ в оплате по дебетовой карте со статусом DECLINED
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить";
3. Ввести номер карты со статусом DECLINED: 4444 4444 4444 4442;
4. Заполнить поле "Месяц" валидными данными: 11;
5. Заполнить поле "Год" валидными данными: 21;
6. Заполнить поле "Владелец" валидными данными: Petr Petrov;
7. Заполнить поле "CVC" валидными данными: 321;
8. Нажать кнопку "Продолжить";

**Ожидаемый результат:** Появляется сообщение об отказе в операции.

#### Отказ в выдаче кредита по данным банковской карты со статусом DECLINED
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить в кредит";
3. Ввести номер карты со статусом DECLINED: 4444 4444 4444 4442;
4. Заполнить поле "Месяц" валидными данными: 11;
5. Заполнить поле "Год" валидными данными: 21;
6. Заполнить поле "Владелец" валидными данными: Petr Petrov;
7. Заполнить поле "CVC" валидными данными: 321;
8. Нажать кнопку "Продолжить";

**Ожидаемый результат:** Появляется сообщение об отказе в операции.


### 1.2 Негативные сценарии
#### Отправка пустой формы оплаты по дебетовой карте
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить";
3. Оставить все поля пустыми;
4. Нажать кнопку "Продолжить";

**Ожидаемый результат:** Кнопка "Продолжить" неактивна, под каждым полем сообщение об ошибке.

#### Отправка пустой формы для выдачи кредита по данным банковской карты
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить в кредит";
3. Оставить все поля пустыми;
4. Нажать кнопку "Продолжить";

**Ожидаемый результат:** Кнопка "Продолжить" неактивна, под каждым полем сообщение об ошибке.

#### Ввод номера карты, отсутствующего в БД, для оплаты по дебетовой карте
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить";
3. Ввести произвольный валидный номер карты: 1234 5678 9123 4567;
4. Заполнить поле "Месяц" валидными данными: 12;
5. Заполнить поле "Год" валидными данными: 22;
6. Заполнить поле "Владелец" валидными данными: Ivan Ivanov;
7. Заполнить поле "CVC" валидными данными: 123;
8. Нажать кнопку "Продолжить";

**Ожидаемый результат:** Появляется сообщение об отказе в операции.

#### Ввод номера карты, отсутствующего в БД, для выдачи кредита по данным банковской карты
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить в кредит";
3. Ввести произвольный валидный номер карты: 9876 5432 1987 6543;
4. Заполнить поле "Месяц" валидными данными: 11;
5. Заполнить поле "Год" валидными данными: 21;
6. Заполнить поле "Владелец" валидными данными: Petr Petrov;
7. Заполнить поле "CVC" валидными данными: 321;
8. Нажать кнопку "Продолжить";

**Ожидаемый результат:** Появляется сообщение об отказе в операции.

#### Ввод невалидных данных в поля при оплате по дебетовой карте
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить";
3. Поочередено заполнить поля невалидными данными:

   3.1. *Невалидные данные поля "Номер карты":*
   * Пустое;
   * Более 16 цифр;
   
   3.2. *Невалидные данные поля "Месяц":*
   * Пустое;
   * Равно 00;
   * Состоит из одной цифры;
   * Больше чем 12. 
   
   3.3. *Невалидные данные поля "Год":*
   * Пустое;
   * Равно 00;
   * Состоит из одной цифры;
   * Меньше текущего года;
   * Больше текущего года на более чем на 5.
   
   3.4. *Невалидные данные поля "Владелец":*
   * Пустое;
   * Состоит из одного слова;
   * Содержит кириллицу;
   * Содержит цифры;
   * Содержит недопустимые спецсимволы. 
   
   3.5. *Невалидные данные поля "CVC":*
   * Пустое;
   * Менее 3 цифр.

**Ожидаемый результат:** Под полем с невалидными данными сообщение об ошибке.

#### Ввод невалидных значений в поля заявки для выдачи кредита по данным банковской карты
1. Открыть страницу http://localhost:8080/;
2. Нажать кнопку "Купить в кредит";
3. Поочередено поля невалидными данными:

   3.1. *Невалидные данные поля "Номер карты":*
   * Пустое;
   * Более 16 цифр;

   3.2. *Невалидные данные поля "Месяц":*
   * Пустое;
   * Равно 00;
   * Состоит из одной цифры;
   * Больше чем 12.

   3.3. *Невалидные данные поля "Год":*
   * Пустое;
   * Равно 00;
   * Состоит из одной цифры;
   * Меньше текущего года;
   * Больше текущего года на более чем на 5.

   3.4. *Невалидные данные поля "Владелец":*
   * Пустое;
   * Состоит из одного слова;
   * Содержит кириллицу;
   * Содержит цифры;
   * Содержит недопустимые спецсимволы.

   3.5. *Невалидные данные поля "CVC":*
   * Пустое;
   * Менее 3 цифр.

**Ожидаемый результат:** Под полем с невалидными данными сообщение об ошибке.

## 2. Перечень используемых инструментов с обоснованием выбора
1. *IntelliJ IDEA Community Edition* - эргономичная среда разработки с возможностью подключения различных плагинов;
2. *Git* - простая в освоении система контроля версий с возможностью интеграции с IntelliJ IDEA;
3. *JUnit5* - инфраструктура модульного тестирования, оснащенная множеством функций таких как параметризованные тесты;
4. *Gradle* - система сборки проекта, скрипты сборки Gradle на порядок короче используемых Maven;
5. *Selenide* - удобный инструмент для автоматических тестов, построенный на базе Selenium WebDriver, c множеством удобных методов для заполнения полей, выбора чекбоксов, поиска элементов;
6. *JavaFaker* - необходим для генерации широкого массива случайных данных для тестов. 
7. *Docker* - система контейризации будет использована для симулятора банковских сервисов, написанном на Node.js. 
8. *Allure Report* - создаёт простые отчёты с хорошей визуализацией.

## 3. Перечень и описание возможных рисков при автоматизации
1. Изменение структуры приложения в будущем приведёт к неработоспособности автотестов, необходима поддержка и актуализация;
2. При интеграции приложения со сторонними сервисами существует риск столкнуться с проблемами со стороны этого сервиса, например, он окажется нестабильным.

## 4. Интервальная оценка с учётом рисков (в часах)
1. Планирование автоматизации тестирования, подготовка тестового окружения - 16 часов;
2. Написание авто-тестов - 40 часов;
3. Подготовка отчётных документов по итогам автоматизированного тестирования - 16 часов;
4. Подготовка отчётных документов по итогам автоматизации - 8 часов.

## 5. План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
1. Планирование автоматизации тестирования - 10.01.2022;
2. Подготовка тестового окружения - 1 рабочий день после утверждения плана тестирования;
3. Написание авто-тестов - 5 рабочих дней после готовности тестового окружения;
4. Подготовка отчётных документов по итогам автоматизированного тестирования - 2 рабочих дня после завершения тестирования;
5. Подготовка отчётных документов по итогам автоматизации - 1 рабочий день после готовности отчётных документов по итогам автоматизированного тестирования.
